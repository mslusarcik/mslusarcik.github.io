if(Sarissa._SARISSA_HAS_DOM_FEATURE&&document.implementation.hasFeature("XPath","3.0")){SarissaNodeList=function(a){this.length=a};SarissaNodeList.prototype=[];SarissaNodeList.prototype.constructor=Array;SarissaNodeList.prototype.item=function(a){return(a<0||a>=this.length)?null:this[a]};SarissaNodeList.prototype.expr="";if(window.XMLDocument&&(!XMLDocument.prototype.setProperty)){XMLDocument.prototype.setProperty=function(a,b){}}Sarissa.setXpathNamespaces=function(g,c){g._sarissa_useCustomResolver=true;var a=c.indexOf(" ")>-1?c.split(" "):[c];g._sarissa_xpathNamespaces=[];for(var d=0;d<a.length;d++){var f=a[d];var h=f.indexOf(":");var j=f.indexOf("=");if(h>0&&j>h+1){var e=f.substring(h+1,j);var b=f.substring(j+2,f.length-1);g._sarissa_xpathNamespaces[e]=b}else{throw"Bad format on namespace declaration(s) given"}}};XMLDocument.prototype._sarissa_useCustomResolver=false;XMLDocument.prototype._sarissa_xpathNamespaces=[];XMLDocument.prototype.selectNodes=function(c,g,a){var e=this;var b;if(this._sarissa_useCustomResolver){b=function(k){var i=e._sarissa_xpathNamespaces[k];if(i){return i}else{throw"No namespace URI found for prefix: '"+k+"'"}}}else{b=this.createNSResolver(this.documentElement)}var j=null;if(!a){var h=this.evaluate(c,(g?g:this),b,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);var d=new SarissaNodeList(h.snapshotLength);d.expr=c;for(var f=0;f<d.length;f++){d[f]=h.snapshotItem(f)}j=d}else{j=this.evaluate(c,(g?g:this),b,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}return j};Element.prototype.selectNodes=function(a){var b=this.ownerDocument;if(b.selectNodes){return b.selectNodes(a,this)}else{throw"Method selectNodes is only supported by XML Elements"}};XMLDocument.prototype.selectSingleNode=function(c,b){var a=b?b:null;return this.selectNodes(c,a,true)};Element.prototype.selectSingleNode=function(a){var b=this.ownerDocument;if(b.selectSingleNode){return b.selectSingleNode(a,this)}else{throw"Method selectNodes is only supported by XML Elements"}};Sarissa.IS_ENABLED_SELECT_NODES=true};