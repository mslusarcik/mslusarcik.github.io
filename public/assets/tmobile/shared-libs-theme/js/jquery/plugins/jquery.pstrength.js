/*!
 * jQuery password strength plugin
 * Original source https://code.google.com/p/macademia/source/browse/trunk/Macademia/web-app/js/jquery/jquery.pstrength.min.js
 */
(function(b){b.extend(b.fn,{pstrength:function(a){var c=b.extend({verdects:["Velmi slabé heslo","Slabé heslo","Středně silné heslo","Silné heslo","Velmi silné heslo"],forbiddenPasswordText:"Tohle heslo ti neprojde!",shortPasswordText:"Příliš krátké heslo",colors:["#e40309","#FF5555","#ff7a04","#3d9f16","#3d9f16"],scores:[10,15,30,40],forbiddenPasswords:["heslo","heslo1","test","test123","admin","heslo123","123456","123","1111","1234"],minchar:4},c);var a=b.extend(c,a);return this.each(function(){var f=b(this).attr("id");var e=b(this).parent().addClass("password-wrapper");e.append('<div class="password-strength"><span id="'+f+'-text"></span></div>');if(b(this).hasClass("password-strength-bottom")){e.addClass("password-strength-bottom")}else{e.find(".password-strength").css({left:e.width(),top:(e.height()/2)-3})}b(this).keyup(function(){b.fn.runPassword(b(this).val(),f,a)})})},runPassword:function(i,a,h){nPerc=b.fn.checkPassword(i,h);var g="#"+a+"-bar";var j="#"+a+"-text";if(nPerc==-200){strColor=h.colors[0];strText=h.forbiddenPasswordText}else{if(nPerc<0&&nPerc>-199){strColor=h.colors[0];strText=h.shortPasswordText}else{if(nPerc<=h.scores[0]){strColor=h.colors[0];strText=h.verdects[0]}else{if(nPerc>h.scores[0]&&nPerc<=h.scores[1]){strColor=h.colors[1];strText=h.verdects[1]}else{if(nPerc>h.scores[1]&&nPerc<=h.scores[2]){strColor=h.colors[2];strText=h.verdects[2]}else{if(nPerc>h.scores[2]&&nPerc<=h.scores[3]){strColor=h.colors[3];strText=h.verdects[3]}else{strColor=h.colors[4];strText=h.verdects[4]}}}}}}b(j).html("<span style='color: "+strColor+";'>"+strText+"</span>")},checkPassword:function(h,g){var a=0;var j=g.verdects[0];if(h.length<g.minchar){a=(a-100)}else{if(h.length>=g.minchar&&h.length<=(g.minchar+2)){a=(a+6)}else{if(h.length>=(g.minchar+3)&&h.length<=(g.minchar+4)){a=(a+12)}else{if(h.length>=(g.minchar+5)){a=(a+18)}}}}if(h.match(/[a-z]/)){a=(a+1)}if(h.match(/[A-Z]/)){a=(a+5)}if(h.match(/\d+/)){a=(a+5)}if(h.match(/(.*[0-9].*[0-9].*[0-9])/)){a=(a+7)}if(h.match(/.[!,@,#,$,%,^,&,*,?,_,~]/)){a=(a+5)}if(h.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)){a=(a+7)}if(h.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)){a=(a+2)}if(h.match(/([a-zA-Z])/)&&h.match(/([0-9])/)){a=(a+3)}if(h.match(/([a-zA-Z0-9].*[!,@,#,$,%,^,&,*,?,_,~])|([!,@,#,$,%,^,&,*,?,_,~].*[a-zA-Z0-9])/)){a=(a+3)}for(var i=0;i<g.forbiddenPasswords.length;i++){if(h.toLowerCase()==g.forbiddenPasswords[i]){a=-200}}return a}})})(jQuery);